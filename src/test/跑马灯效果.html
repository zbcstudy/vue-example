<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>跑马灯</title>
  <script type="application/javascript" src="lib/vue.js"></script>
</head>
<body>
<div id="app">
  <input type="button" value="浪起来" @click="start">
  <input type="button" value="低调" @click="stop">
  <h4>{{msg}}</h4>
</div>

<script>
  new Vue({
    el: '#app',
    data: {
      msg: '猥琐发育 别浪~~!',
      intervalId: null
    },
    methods: {
      start(){
        if (this.intervalId != null) {
          return
        }
        this.intervalId = setInterval(() => {
          const start = this.msg.substring(0, 1);
          const end = this.msg.substring(1);
          this.msg = end + start;
        }, 400);
      },
      stop(){
        //清除定时器
        clearInterval(this.intervalId);
        // 清除定时器之后 需要将id重新置为null
        this.intervalId = null;
      }
    }
  })
</script>
</body>
</html>
